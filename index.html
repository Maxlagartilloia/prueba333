<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Generador de Posts | Locos por Aprender</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="App gratuita para generar posts autom√°ticos con hook, texto, CTA y hashtags.">
  <style>
    :root{
      --bg:#0f0f12; --card:#15161a; --ink:#e8e8ea; --muted:#a7a7b0;
      --brand:#ff2d55; --accent:#00e0b8; --stroke:#23242a;
    }
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(180deg,#0d0d10,#14151a);color:var(--ink);font:16px/1.5 Inter,system-ui,Segoe UI,Roboto,Arial}
    header{padding:28px 16px;text-align:center;border-bottom:1px solid var(--stroke)}
    header h1{margin:4px 0 6px;font-size:22px;letter-spacing:.2px}
    header p{margin:0;color:var(--muted);font-size:14px}
    .wrap{max-width:980px;margin:24px auto;padding:0 16px 48px}
    .grid{display:grid;gap:16px;grid-template-columns:1fr}
    @media(min-width:960px){.grid{grid-template-columns:340px 1fr}}
    .panel{background:var(--card);border:1px solid var(--stroke);border-radius:14px;padding:16px}
    h2{margin:0 0 10px;font-size:16px}
    label{display:block;margin:10px 0 6px;color:var(--muted);font-size:13px}
    input,textarea,select{
      width:100%;padding:12px 12px;border-radius:10px;border:1px solid var(--stroke);
      background:#0f1014;color:var(--ink);outline:none
    }
    textarea{min-height:96px;resize:vertical}
    .row{display:flex;gap:10px}
    .row>*{flex:1}
    .btn{
      display:inline-flex;align-items:center;justify-content:center;gap:8px;
      padding:12px 14px;border-radius:10px;border:1px solid var(--stroke);
      background:linear-gradient(180deg,#1d1f24,#191b20);color:var(--ink);
      cursor:pointer;text-decoration:none;font-weight:600
    }
    .btn:hover{border-color:#2b2d36}
    .btn.primary{background:linear-gradient(180deg,var(--brand),#c51f48);border:none}
    .btn.ghost{background:transparent;border:1px solid var(--stroke)}
    .badge{display:inline-block;padding:4px 8px;border-radius:999px;background:#1c1e24;border:1px solid var(--stroke);font-size:12px;color:var(--muted)}
    .post{background:#101116;border:1px solid var(--stroke);border-radius:12px;padding:14px;position:relative}
    .post h3{margin:0 0 6px;font-size:14px;color:#dcdce2}
    .meta{display:flex;gap:8px;flex-wrap:wrap;margin:8px 0}
    .muted{color:var(--muted);font-size:13px}
    .tools{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
    .footer{margin-top:20px;color:var(--muted);font-size:12px;text-align:center}
    .brand{display:flex;align-items:center;gap:8px;justify-content:center;margin-top:8px}
    .brand b{color:#fff}
    .accent{color:var(--accent)}
    .tiny{font-size:12px;color:var(--muted)}
    .sep{height:1px;background:var(--stroke);margin:12px 0}
  </style>
</head>
<body>
  <header>
    <h1>Generador de Posts (gratis)</h1>
    <p>Crea textos listos con <span class="accent">Hook + Descripci√≥n + CTA + Hashtags</span> para tu negocio.</p>
    <div class="brand"><span class="badge">by Locos por Aprender ¬∑ Criss Lombeida AI Studio</span></div>
  </header>

  <div class="wrap grid">
    <!-- Control panel -->
    <section class="panel">
      <h2>üéØ Configura tu post</h2>

      <label>¬øQu√© vendes / Nicho?</label>
      <input id="nicho" placeholder="Ej: chocobananas artesanales / papeler√≠a / ropa deportiva">

      <div class="row">
        <div>
          <label>Objetivo</label>
          <select id="objetivo">
            <option value="vender hoy">Vender hoy</option>
            <option value="generar comentarios">Generar comentarios</option>
            <option value="conseguir mensajes">Conseguir mensajes</option>
            <option value="atraer visitas al local">Atraer visitas al local</option>
            <option value="agendar pedidos">Agendar pedidos</option>
          </select>
        </div>
        <div>
          <label>Tono</label>
          <select id="tono">
            <option value="cercano">Cercano</option>
            <option value="energ√©tico">Energ√©tico</option>
            <option value="elegante">Elegante</option>
            <option value="divertido">Divertido</option>
            <option value="autoridad">Autoridad</option>
          </select>
        </div>
      </div>

      <label>Frases/Palabras propias (opcional, separadas por coma)</label>
      <textarea id="custom" placeholder="Ej: hecho en casa, receta familiar, crujiente, entrega hoy, promo 2x1"></textarea>

      <div class="row" style="margin-top:8px">
        <button class="btn primary" id="btnGen">‚ö° Generar 5 posts</button>
        <button class="btn ghost" id="btnClear">üßΩ Limpiar</button>
      </div>

      <div class="sep"></div>
      <div class="tiny">
        Sugerencia: m√°ximo 60 palabras por post. Puedes regenerar cuantas veces quieras. No usa IA de servidor ni API: todo ocurre en tu navegador.
      </div>
    </section>

    <!-- Results -->
    <section class="panel">
      <h2>üìù Resultados</h2>
      <div id="results" class="grid" style="grid-template-columns:1fr;gap:12px"></div>
      <div class="tools" style="margin-top:12px">
        <button class="btn" id="btnRegenerate" disabled>üîÑ Regenerar</button>
        <button class="btn" id="btnExport" disabled>‚¨áÔ∏è Exportar .txt</button>
      </div>
      <div class="footer">Consejo: copia 2‚Äì3 y prueba cu√°l rinde mejor. Optimiza seg√∫n comentarios/guardados.</div>
    </section>
  </div>

  <script>
    // --- Diccionarios base (personal√≠zalos cuando quieras) ---
    const HOOKS = [
      "üöÄ ¬øListo para subir de nivel con {nicho}?",
      "üòã Antojo de {nicho}? Mira esto‚Ä¶",
      "üí• 10 segundos para convencerte con {nicho}.",
      "ü§Ø Lo que nadie te cont√≥ sobre {nicho}.",
      "‚ú® Hoy te vas a enamorar de {nicho}."
    ];
    const BENEFICIOS = [
      "sabor que conquista el primer bocado",
      "calidad que se nota en cada detalle",
      "hecho con cari√±o y enfoque en ti",
      "listo para alegrarte el d√≠a",
      "pensado para exigentes como t√∫"
    ];
    const PRUEBAS = [
      "receta familiar", "ingredientes seleccionados", "edici√≥n limitada",
      "hecho a mano", "frescura garantizada", "clientes felices"
    ];
    const CTAS = {
      "vender hoy": ["Pide el tuyo hoy üõí", "Haz tu pedido ahora üì≤", "Escr√≠benos y te apartamos üí¨"],
      "generar comentarios": ["Comenta QUIERO y te env√≠o info üí¨", "Dime ‚ÄòQUIERO‚Äô y te paso promo ‚ö°", "¬øTe interesa? Escribe QUIERO üëá"],
      "conseguir mensajes": ["Env√≠anos DM y te respondemos ahora üí¨", "Escr√≠benos y te guiamos paso a paso üì©"],
      "atraer visitas al local": ["Ven hoy y pru√©balo en el local üìç", "Te esperamos, hay sorpresa üéÅ"],
      "agendar pedidos": ["Agenda para hoy mismo üóìÔ∏è", "Reserva tu pedido en 30s ‚è±Ô∏è"]
    };
    const TONOS = {
      "cercano": ["contigo", "hecho a tu medida", "como en casa"],
      "energ√©tico": ["vamos con todo", "potencia tus d√≠as", "activa tu semana"],
      "elegante": ["detalle impecable", "toque premium", "est√©tica cuidada"],
      "divertido": ["modo antojo ON", "nivel felicidad al 100%", "spoiler: te encantar√°"],
      "autoridad": ["garant√≠a real", "experiencia comprobada", "confianza total"]
    };
    const HASHTAGS = {
      "default":["#HechoConAmor","#NegocioLocal","#PromoHoy","#CompraSeguro","#ApoyaEmprendedores"],
    };

    // Utilidades
    const $ = s => document.querySelector(s);
    const pick = arr => arr[Math.floor(Math.random()*arr.length)];
    const cap = s => s.charAt(0).toUpperCase()+s.slice(1);
    const clampWords = (text,max=60)=>{
      const words=text.split(/\s+/);
      return words.length<=max?text:words.slice(0,max).join(" ")+"‚Ä¶";
    }

    // Generador de hashtags seg√∫n nicho (simple)
    function buildHashtags(nicho){
      const base = HASHTAGS.default.slice(0);
      const clean = (nicho||"").toLowerCase().split(/\W+/).filter(Boolean).slice(0,2);
      clean.forEach(w=>{
        if(w.length>2) base.push("#"+cap(w.replace(/√±/g,"n")));
      });
      // √∫nicos
      return [...new Set(base)].slice(0,5);
    }

    // Mezclador principal (sin IA, combinatorio con ‚Äúsabor a IA‚Äù)
    function generatePost({nicho, objetivo, tono, customWords=[]}){
      const hook = pick(HOOKS).replace("{nicho}", nicho);
      const beneficio = pick(BENEFICIOS);
      const prueba = pick(PRUEBAS);
      const tonoPick = pick(TONOS[tono] || TONOS["cercano"]);
      const cta = pick(CTAS[objetivo] || CTAS["vender hoy"]);

      // Usa algunas palabras propias si existen
      let extra = "";
      if(customWords.length){
        extra = " " + pick(customWords) + (Math.random()>0.5 ? " ‚Ä¢ " + pick(customWords) : "");
      }

      const cuerpo = `${cap(nicho)} con ${beneficio}, ${prueba} y ${tonoPick}.${extra}`;
      const texto = `${hook}\n${cuerpo}\n${cta}`;
      const hashtags = buildHashtags(nicho).join(" ");

      return {
        hook, cuerpo: clampWords(cuerpo, 50), cta, hashtags,
        full: clampWords(`${hook} ${cuerpo} ${cta} ${hashtags}`, 60)
      };
    }

    // Render
    function renderPosts(posts){
      const wrap = $("#results");
      wrap.innerHTML = "";
      posts.forEach((p, i)=>{
        const el = document.createElement("div");
        el.className = "post";
        el.innerHTML = `
          <h3>Post #${i+1}</h3>
          <div class="muted"><b>Hook:</b> ${p.hook}</div>
          <div class="muted"><b>Texto:</b> ${p.cuerpo}</div>
          <div class="muted"><b>CTA:</b> ${p.cta}</div>
          <div class="meta"><span class="badge">‚â§ 60 palabras</span><span class="badge">Auto-hashtags</span></div>
          <div class="muted"><b>Hashtags:</b> ${p.hashtags}</div>
          <div class="tools">
            <button class="btn" data-copy="${escapeHtml(p.full)}">üìã Copiar post</button>
            <button class="btn ghost" data-copy="${escapeHtml(p.hashtags)}"># Copiar hashtags</button>
          </div>
        `;
        wrap.appendChild(el);
      });
      // Activar botones
      wrap.querySelectorAll("button").forEach(btn=>{
        btn.addEventListener("click", async ()=>{
          const text = unescapeHtml(btn.getAttribute("data-copy"));
          await navigator.clipboard.writeText(text);
          btn.textContent = "‚úÖ Copiado";
          setTimeout(()=>btn.textContent = btn.classList.contains("ghost") ? "# Copiar hashtags" : "üìã Copiar post", 1200);
        });
      });
      $("#btnRegenerate").disabled = false;
      $("#btnExport").disabled = false;
    }

    function escapeHtml(s){ return s.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;"); }
    function unescapeHtml(s){ return s.replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&quot;",'"').replaceAll("&amp;","&"); }

    // Estado
    let lastParams = null;
    let lastPosts = [];

    function run(generateNew=true){
      const nicho = ($("#nicho").value||"tu producto estrella").trim();
      const objetivo = $("#objetivo").value;
      const tono = $("#tono").value;
      const custom = ($("#custom").value||"").split(",").map(s=>s.trim()).filter(Boolean);

      const params = {nicho, objetivo, tono, customWords:custom};
      lastParams = params;

      if(generateNew){
        lastPosts = Array.from({length:5}, ()=> generatePost(params));
      }else{
        // remezcla ligera
        lastPosts = lastPosts.map(()=> generatePost(params));
      }
      renderPosts(lastPosts);
    }

    $("#btnGen").addEventListener("click", ()=> run(true));
    $("#btnRegenerate").addEventListener("click", ()=> run(false));
    $("#btnClear").addEventListener("click", ()=>{
      ["nicho","custom"].forEach(id=>$( "#"+id ).value="");
      $("#results").innerHTML="";
      $("#btnRegenerate").disabled = true;
      $("#btnExport").disabled = true;
    });
    $("#btnExport").addEventListener("click", ()=>{
      if(!lastPosts.length) return;
      const lines = lastPosts.map((p,i)=>`Post #${i+1}\n${p.full}\n\n`);
      const blob = new Blob(lines,{type:"text/plain"});
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url; a.download = "posts_generados.txt";
      a.click(); URL.revokeObjectURL(url);
    });

    // Autogenerar demo al cargar
    window.addEventListener("load", ()=>{
      $("#nicho").value = "chocobananas artesanales";
      run(true);
    });
  </script>
</body>
</html>
